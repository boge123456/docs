---
title: 'Gemini å¤šæ¨¡æ€å¯¹è¯ç¤ºä¾‹'
description: 'ä½¿ç”¨Geminiè¿›è¡Œå›¾ç‰‡ç†è§£å’Œå¤šæ¨¡æ€å¯¹è¯çš„å®Œæ•´ç¤ºä¾‹ä»£ç '
---

# Gemini å¤šæ¨¡æ€å¯¹è¯ç¤ºä¾‹

ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨Geminiçš„å¤šæ¨¡æ€åŠŸèƒ½ï¼Œè®©AIç†è§£å’Œåˆ†æå›¾ç‰‡ã€è§†é¢‘å’ŒéŸ³é¢‘å†…å®¹ï¼Œè¿›è¡Œå¤šåª’ä½“æ™ºèƒ½å¯¹è¯ã€‚

## å¿«é€Ÿå¼€å§‹

åªéœ€è¦æ›¿æ¢ `<API-KEY>` ä¸ºä½ çš„å®é™…APIå¯†é’¥å³å¯è¿è¡Œã€‚

<CodeGroup>

```bash cURL
curl -X POST "https://api.tokenops.ai/v1beta/models/gemini-2.5-flash:generateContent" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <API-KEY>" \
  -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆï¼Ÿè¯·è¯¦ç»†æè¿°ã€‚"
          },
          {
            "inlineData": {
              "mimeType": "image/jpeg",
              "data": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="
            }
          }
        ]
      }
    ],
    "generationConfig": {
      "maxOutputTokens": 1000,
      "temperature": 0.7
    }
  }'
```

```python Python
import requests
import base64
import json
import mimetypes
import os

# é…ç½®APIå¯†é’¥å’ŒåŸºç¡€URL
API_KEY = "<API-KEY>"
BASE_URL = "https://api.tokenops.ai/v1beta"

def encode_file_to_base64(file_path):
    """å°†æ–‡ä»¶ç¼–ç ä¸ºbase64æ ¼å¼"""
    try:
        with open(file_path, "rb") as file:
            return base64.b64encode(file.read()).decode('utf-8')
    except Exception as e:
        raise Exception(f"æ–‡ä»¶ç¼–ç å¤±è´¥: {e}")

def get_mime_type(file_path):
    """è·å–æ–‡ä»¶çš„MIMEç±»å‹"""
    mime_type, _ = mimetypes.guess_type(file_path)
    if mime_type is None:
        # æ ¹æ®æ–‡ä»¶æ‰©å±•åæ‰‹åŠ¨åˆ¤æ–­
        extension = file_path.lower().split('.')[-1]
        mime_types = {
            'jpg': 'image/jpeg', 'jpeg': 'image/jpeg',
            'png': 'image/png', 'gif': 'image/gif',
            'webp': 'image/webp', 'bmp': 'image/bmp',
            'mp4': 'video/mp4', 'mov': 'video/quicktime',
            'avi': 'video/x-msvideo', 'webm': 'video/webm',
            'mp3': 'audio/mp3', 'wav': 'audio/wav',
            'flac': 'audio/flac', 'm4a': 'audio/mp4'
        }
        mime_type = mime_types.get(extension, 'application/octet-stream')
    return mime_type

def gemini_multimodal_chat(text_prompt, file_paths=None, temperature=0.7, max_tokens=1000):
    """
    ä¸Geminiè¿›è¡Œå¤šæ¨¡æ€å¯¹è¯

    Args:
        text_prompt: æ–‡æœ¬æç¤º
        file_paths: æ–‡ä»¶è·¯å¾„åˆ—è¡¨ (å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘)
        temperature: ç”Ÿæˆæ¸©åº¦
        max_tokens: æœ€å¤§è¾“å‡ºtokenæ•°
    """
    url = f"{BASE_URL}/models/gemini-2.5-flash:generateContent"
    headers = {
        "Content-Type": "application/json",
        "Authorization": f"Bearer {API_KEY}"
    }

    # æ„å»ºæ¶ˆæ¯éƒ¨åˆ†
    parts = [
        {
            "text": text_prompt
        }
    ]

    # æ·»åŠ æ–‡ä»¶å†…å®¹
    if file_paths:
        for file_path in file_paths:
            if os.path.exists(file_path):
                file_base64 = encode_file_to_base64(file_path)
                mime_type = get_mime_type(file_path)

                parts.append({
                    "inlineData": {
                        "mimeType": mime_type,
                        "data": file_base64
                    }
                })
            else:
                print(f"è­¦å‘Š: æ–‡ä»¶ä¸å­˜åœ¨ - {file_path}")

    data = {
        "contents": [
            {
                "parts": parts
            }
        ],
        "generationConfig": {
            "maxOutputTokens": max_tokens,
            "temperature": temperature
        }
    }

    try:
        response = requests.post(url, headers=headers, json=data)

        if response.status_code == 200:
            result = response.json()
            if 'candidates' in result and len(result['candidates']) > 0:
                content = result['candidates'][0]['content']
                if 'parts' in content and len(content['parts']) > 0:
                    return content['parts'][0]['text']
                else:
                    return "æ²¡æœ‰è¿”å›å†…å®¹"
            else:
                return "æ²¡æœ‰ç”Ÿæˆå€™é€‰å›ç­”"
        else:
            return f"é”™è¯¯: {response.status_code} - {response.text}"

    except Exception as e:
        return f"è¯·æ±‚å¤±è´¥: {e}"

def analyze_image_with_gemini(image_path):
    """ä½¿ç”¨Geminiåˆ†æå›¾ç‰‡å†…å®¹"""
    prompt = """è¯·è¯¦ç»†åˆ†æè¿™å¼ å›¾ç‰‡ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

ğŸ” **å†…å®¹è¯†åˆ«**
- ä¸»è¦å¯¹è±¡å’Œåœºæ™¯
- äººç‰©ç‰¹å¾ï¼ˆå¦‚æœæœ‰ï¼‰
- èƒŒæ™¯ç¯å¢ƒ

ğŸ¨ **è§†è§‰åˆ†æ**
- è‰²å½©æ­é…å’Œä¸»è‰²è°ƒ
- æ„å›¾å’Œå¸ƒå±€
- å…‰å½±æ•ˆæœ

ğŸ’­ **æƒ…æ„Ÿæ°›å›´**
- å›¾ç‰‡ä¼ è¾¾çš„æƒ…æ„Ÿ
- æ•´ä½“æ°›å›´å’Œæ„Ÿå—

ğŸ“ **åº”ç”¨å»ºè®®**
- é€‚åˆçš„ä½¿ç”¨åœºæ™¯
- å¯èƒ½çš„æ”¹è¿›å»ºè®®

è¯·ç”¨ä¸­æ–‡è¯¦ç»†å›ç­”ï¼Œç»“æ„æ¸…æ™°ã€‚"""

    return gemini_multimodal_chat(prompt, [image_path])

def extract_text_from_image(image_path):
    """ä»å›¾ç‰‡ä¸­æå–æ–‡å­—å†…å®¹"""
    prompt = """è¯·ä»”ç»†è¯†åˆ«è¿™å¼ å›¾ç‰‡ä¸­çš„æ‰€æœ‰æ–‡å­—å†…å®¹ã€‚

**è¦æ±‚ï¼š**
1. æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºæå–
2. ä¿æŒåŸæœ‰æ ¼å¼å’Œç»“æ„
3. å¦‚æœæ˜¯è¡¨æ ¼ï¼Œè¯·ç”¨markdownè¡¨æ ¼æ ¼å¼æ•´ç†
4. å¦‚æœæœ‰å¤šç§è¯­è¨€ï¼Œè¯·æ ‡æ³¨è¯­è¨€ç±»å‹
5. å¦‚æœæ–‡å­—æ¨¡ç³Šä¸æ¸…ï¼Œè¯·æ ‡æ³¨"[æ¨¡ç³Š]"
6. å¦‚æœæ˜¯æ‰‹å†™æ–‡å­—ï¼Œè¯·æ ‡æ³¨"[æ‰‹å†™]"

**è¾“å‡ºæ ¼å¼ï¼š**
ç›´æ¥è¾“å‡ºæå–åˆ°çš„æ–‡å­—å†…å®¹ï¼Œä¸éœ€è¦é¢å¤–è¯´æ˜ã€‚"""

    return gemini_multimodal_chat(prompt, [image_path])

def analyze_video_content(video_path):
    """åˆ†æè§†é¢‘å†…å®¹"""
    prompt = """è¯·åˆ†æè¿™ä¸ªè§†é¢‘çš„å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š

ğŸ“¹ **è§†é¢‘æ¦‚è§ˆ**
- è§†é¢‘ä¸»é¢˜å’Œå†…å®¹
- æ—¶é•¿å’ŒèŠ‚å¥æ„Ÿå—
- æ•´ä½“è´¨é‡è¯„ä»·

ğŸ¬ **ç”»é¢åˆ†æ**
- ä¸»è¦åœºæ™¯å’Œç”»é¢
- æ‹æ‘„è§’åº¦å’Œè¿é•œ
- è§†è§‰ç‰¹æ•ˆå’Œå‰ªè¾‘

ğŸ‘¥ **äººç‰©/å¯¹è±¡**
- ä¸»è¦äººç‰©æˆ–å¯¹è±¡
- åŠ¨ä½œå’Œè¡¨æƒ…åˆ†æ
- äº’åŠ¨å’Œæƒ…èŠ‚å‘å±•

ğŸµ **éŸ³é¢‘åˆ†æ**ï¼ˆå¦‚æœæœ‰ï¼‰
- èƒŒæ™¯éŸ³ä¹é£æ ¼
- è¯­è¨€å’Œå¯¹è¯å†…å®¹
- éŸ³æ•ˆå’Œå£°éŸ³è´¨é‡

ğŸ¯ **åº”ç”¨ä»·å€¼**
- é€‚åˆçš„ç”¨é€”å’Œåœºæ™¯
- ç›®æ ‡å—ä¼—åˆ†æ
- æ”¹è¿›å»ºè®®

è¯·è¯¦ç»†åˆ†æå¹¶ç»™å‡ºä¸“ä¸šå»ºè®®ã€‚"""

    return gemini_multimodal_chat(prompt, [video_path], max_tokens=1500)

def analyze_audio_content(audio_path):
    """åˆ†æéŸ³é¢‘å†…å®¹"""
    prompt = """è¯·åˆ†æè¿™ä¸ªéŸ³é¢‘æ–‡ä»¶çš„å†…å®¹ï¼š

ğŸµ **éŸ³é¢‘åŸºæœ¬ä¿¡æ¯**
- éŸ³é¢‘ç±»å‹ï¼ˆéŸ³ä¹/è¯­éŸ³/ç¯å¢ƒéŸ³ç­‰ï¼‰
- æ—¶é•¿å’Œè´¨é‡æ„Ÿå—
- æ•´ä½“ç‰¹ç‚¹

ğŸ—£ï¸ **è¯­éŸ³å†…å®¹**ï¼ˆå¦‚æœæ˜¯è¯­éŸ³ï¼‰
- è¯­è¨€ç±»å‹å’Œæ–¹è¨€
- è¯´è¯äººç‰¹å¾ï¼ˆæ€§åˆ«ã€å¹´é¾„ä¼°è®¡ã€è¯­è°ƒï¼‰
- ä¸»è¦å†…å®¹æ‘˜è¦
- æƒ…æ„Ÿè‰²å½©

ğŸ¼ **éŸ³ä¹åˆ†æ**ï¼ˆå¦‚æœæ˜¯éŸ³ä¹ï¼‰
- éŸ³ä¹é£æ ¼å’Œç±»å‹
- ä¹å™¨å’Œç¼–æ›²ç‰¹ç‚¹
- èŠ‚æ‹å’Œæ—‹å¾‹ç‰¹ç‚¹
- æƒ…æ„Ÿè¡¨è¾¾

ğŸ”Š **æŠ€æœ¯è´¨é‡**
- éŸ³è´¨æ¸…æ™°åº¦
- èƒŒæ™¯å™ªéŸ³æƒ…å†µ
- å½•éŸ³è´¨é‡è¯„ä»·

ğŸ’¡ **åº”ç”¨å»ºè®®**
- é€‚åˆçš„ä½¿ç”¨åœºæ™¯
- å¯èƒ½çš„ç”¨é€”
- ä¼˜åŒ–å»ºè®®

è¯·è¯¦ç»†åˆ†æéŸ³é¢‘å†…å®¹ã€‚"""

    return gemini_multimodal_chat(prompt, [audio_path], max_tokens=1200)

def multi_file_analysis(file_paths, analysis_task):
    """åˆ†æå¤šä¸ªæ–‡ä»¶çš„å†…å®¹"""
    prompt = f"""è¯·åˆ†æè¿™äº›å¤šåª’ä½“æ–‡ä»¶ï¼Œä»»åŠ¡è¦æ±‚ï¼š

{analysis_task}

**åˆ†æè¦æ±‚ï¼š**
1. åˆ†åˆ«åˆ†ææ¯ä¸ªæ–‡ä»¶çš„ç‰¹ç‚¹
2. æ‰¾å‡ºæ–‡ä»¶ä¹‹é—´çš„å…³è”æ€§
3. ç»™å‡ºç»¼åˆè¯„ä»·å’Œå»ºè®®
4. å¦‚æœæ˜¯ç³»åˆ—å†…å®¹ï¼Œåˆ†æå…¶è¿è´¯æ€§

è¯·è¯¦ç»†åˆ†æå¹¶ç»™å‡ºä¸“ä¸šæ„è§ã€‚"""

    return gemini_multimodal_chat(prompt, file_paths, max_tokens=1500)

def creative_storytelling(image_path):
    """åŸºäºå›¾ç‰‡åˆ›ä½œæ•…äº‹"""
    prompt = """è¯·åŸºäºè¿™å¼ å›¾ç‰‡åˆ›ä½œä¸€ä¸ªæœ‰è¶£çš„æ•…äº‹ï¼š

ğŸ“– **åˆ›ä½œè¦æ±‚ï¼š**
1. æ•…äº‹é•¿åº¦ï¼š300-500å­—
2. åŒ…å«å¼€å¤´ã€å‘å±•ã€é«˜æ½®ã€ç»“å°¾
3. äººç‰©æ€§æ ¼é²œæ˜
4. æƒ…èŠ‚å¼•äººå…¥èƒœ
5. ç»“åˆå›¾ç‰‡ä¸­çš„å…·ä½“å…ƒç´ 

ğŸ­ **æ•…äº‹é£æ ¼ï¼š**
è¯·é€‰æ‹©æœ€é€‚åˆå›¾ç‰‡å†…å®¹çš„é£æ ¼ï¼ˆæ¸©é¦¨ã€æ‚¬ç–‘ã€å†’é™©ã€ç§‘å¹»ç­‰ï¼‰

ğŸ“ **è¾“å‡ºæ ¼å¼ï¼š**
- æ•…äº‹æ ‡é¢˜
- æ•…äº‹æ­£æ–‡
- æ•…äº‹å¯“æ„ï¼ˆå¦‚æœæœ‰ï¼‰

è¯·å‘æŒ¥åˆ›æ„ï¼Œåˆ›ä½œä¸€ä¸ªç²¾å½©çš„æ•…äº‹ï¼"""

    return gemini_multimodal_chat(prompt, [image_path], temperature=0.9, max_tokens=1200)

def compare_media_files(file1_path, file2_path):
    """æ¯”è¾ƒä¸¤ä¸ªåª’ä½“æ–‡ä»¶"""
    prompt = """è¯·æ¯”è¾ƒè¿™ä¸¤ä¸ªåª’ä½“æ–‡ä»¶ï¼š

ğŸ” **å†…å®¹å¯¹æ¯”**
- ä¸»è¦å†…å®¹å’Œä¸»é¢˜çš„å¼‚åŒ
- è¡¨ç°å½¢å¼çš„å·®å¼‚
- è´¨é‡æ°´å¹³å¯¹æ¯”

ğŸ¨ **é£æ ¼å¯¹æ¯”**
- è§†è§‰/å¬è§‰é£æ ¼å·®å¼‚
- è¡¨ç°æ‰‹æ³•çš„ä¸åŒ
- è‰ºæœ¯ç‰¹è‰²å¯¹æ¯”

ğŸ“Š **è´¨é‡è¯„ä¼°**
- æŠ€æœ¯è´¨é‡å¯¹æ¯”
- åˆ›æ„æ°´å¹³è¯„ä»·
- ä¸“ä¸šç¨‹åº¦åˆ†æ

ğŸ’¡ **åº”ç”¨å»ºè®®**
- å„è‡ªé€‚åˆçš„ä½¿ç”¨åœºæ™¯
- ä¼˜ç¼ºç‚¹åˆ†æ
- é€‰æ‹©å»ºè®®

è¯·è¯¦ç»†å¯¹æ¯”åˆ†æè¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚"""

    return gemini_multimodal_chat(prompt, [file1_path, file2_path], max_tokens=1300)

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    print("=== Geminiå¤šæ¨¡æ€å¯¹è¯ç¤ºä¾‹ ===\n")

    # ç¤ºä¾‹æ–‡ä»¶è·¯å¾„ï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰
    sample_image = "sample_photo.jpg"
    sample_video = "sample_video.mp4"
    sample_audio = "sample_audio.mp3"

    try:
        # ç¤ºä¾‹1: å›¾ç‰‡åˆ†æ
        if os.path.exists(sample_image):
            print("1. å›¾ç‰‡å†…å®¹åˆ†æ:")
            image_analysis = analyze_image_with_gemini(sample_image)
            print(image_analysis)
            print("\n" + "="*50 + "\n")

            # ç¤ºä¾‹2: å›¾ç‰‡æ–‡å­—æå–
            print("2. å›¾ç‰‡æ–‡å­—æå–:")
            text_extraction = extract_text_from_image(sample_image)
            print(text_extraction)
            print("\n" + "="*50 + "\n")

            # ç¤ºä¾‹3: åˆ›æ„æ•…äº‹åˆ›ä½œ
            print("3. åŸºäºå›¾ç‰‡çš„åˆ›æ„æ•…äº‹:")
            story = creative_storytelling(sample_image)
            print(story)
            print("\n" + "="*50 + "\n")

        # ç¤ºä¾‹4: è§†é¢‘åˆ†æ
        if os.path.exists(sample_video):
            print("4. è§†é¢‘å†…å®¹åˆ†æ:")
            video_analysis = analyze_video_content(sample_video)
            print(video_analysis)
            print("\n" + "="*50 + "\n")

        # ç¤ºä¾‹5: éŸ³é¢‘åˆ†æ
        if os.path.exists(sample_audio):
            print("5. éŸ³é¢‘å†…å®¹åˆ†æ:")
            audio_analysis = analyze_audio_content(sample_audio)
            print(audio_analysis)
            print("\n" + "="*50 + "\n")

        # ç¤ºä¾‹6: å¤šæ–‡ä»¶ç»¼åˆåˆ†æ
        available_files = []
        for file_path in [sample_image, sample_video, sample_audio]:
            if os.path.exists(file_path):
                available_files.append(file_path)

        if len(available_files) >= 2:
            print("6. å¤šåª’ä½“æ–‡ä»¶ç»¼åˆåˆ†æ:")
            multi_analysis = multi_file_analysis(
                available_files[:2],  # å–å‰ä¸¤ä¸ªæ–‡ä»¶
                "åˆ†æè¿™äº›æ–‡ä»¶æ˜¯å¦å±äºåŒä¸€ä¸ªé¡¹ç›®æˆ–ä¸»é¢˜ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆå…³è”æ€§ï¼Ÿ"
            )
            print(multi_analysis)

        if not any(os.path.exists(f) for f in [sample_image, sample_video, sample_audio]):
            print("è¯·å‡†å¤‡ç¤ºä¾‹æ–‡ä»¶:")
            print(f"- å›¾ç‰‡æ–‡ä»¶: {sample_image}")
            print(f"- è§†é¢‘æ–‡ä»¶: {sample_video}")
            print(f"- éŸ³é¢‘æ–‡ä»¶: {sample_audio}")
            print("\næ”¯æŒæ ¼å¼:")
            print("- å›¾ç‰‡: JPEG, PNG, GIF, WebP, BMP")
            print("- è§†é¢‘: MP4, MOV, AVI, WebM")
            print("- éŸ³é¢‘: MP3, WAV, FLAC, M4A")

    except Exception as e:
        print(f"ç¨‹åºæ‰§è¡Œå‡ºé”™: {e}")
```

```javascript JavaScript/Node.js
const axios = require('axios');
const fs = require('fs');
const path = require('path');

// é…ç½®APIå¯†é’¥å’ŒåŸºç¡€URL
const API_KEY = '<API-KEY>';
const BASE_URL = 'https://api.tokenops.ai/v1beta';

function encodeFileToBase64(filePath) {
    try {
        const fileBuffer = fs.readFileSync(filePath);
        return fileBuffer.toString('base64');
    } catch (error) {
        throw new Error(`æ–‡ä»¶ç¼–ç å¤±è´¥: ${error.message}`);
    }
}

function getMimeType(filePath) {
    const extension = path.extname(filePath).toLowerCase();
    const mimeTypes = {
        '.jpg': 'image/jpeg', '.jpeg': 'image/jpeg',
        '.png': 'image/png', '.gif': 'image/gif',
        '.webp': 'image/webp', '.bmp': 'image/bmp',
        '.mp4': 'video/mp4', '.mov': 'video/quicktime',
        '.avi': 'video/x-msvideo', '.webm': 'video/webm',
        '.mp3': 'audio/mp3', '.wav': 'audio/wav',
        '.flac': 'audio/flac', '.m4a': 'audio/mp4'
    };
    return mimeTypes[extension] || 'application/octet-stream';
}

async function geminiMultimodalChat(textPrompt, filePaths = [], temperature = 0.7, maxTokens = 1000) {
    const url = `${BASE_URL}/models/gemini-2.5-flash:generateContent`;
    const headers = {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${API_KEY}`
    };

    // æ„å»ºæ¶ˆæ¯éƒ¨åˆ†
    const parts = [
        {
            text: textPrompt
        }
    ];

    // æ·»åŠ æ–‡ä»¶å†…å®¹
    if (filePaths && filePaths.length > 0) {
        for (const filePath of filePaths) {
            if (fs.existsSync(filePath)) {
                const fileBase64 = encodeFileToBase64(filePath);
                const mimeType = getMimeType(filePath);

                parts.push({
                    inlineData: {
                        mimeType: mimeType,
                        data: fileBase64
                    }
                });
            } else {
                console.log(`è­¦å‘Š: æ–‡ä»¶ä¸å­˜åœ¨ - ${filePath}`);
            }
        }
    }

    const data = {
        contents: [
            {
                parts: parts
            }
        ],
        generationConfig: {
            maxOutputTokens: maxTokens,
            temperature: temperature
        }
    };

    try {
        const response = await axios.post(url, data, { headers });

        if (response.status === 200) {
            const result = response.data;
            if (result.candidates && result.candidates.length > 0) {
                const content = result.candidates[0].content;
                if (content.parts && content.parts.length > 0) {
                    return content.parts[0].text;
                } else {
                    return 'æ²¡æœ‰è¿”å›å†…å®¹';
                }
            } else {
                return 'æ²¡æœ‰ç”Ÿæˆå€™é€‰å›ç­”';
            }
        } else {
            return `é”™è¯¯: ${response.status} - ${response.statusText}`;
        }

    } catch (error) {
        return `è¯·æ±‚å¤±è´¥: ${error.response?.status} - ${error.response?.data || error.message}`;
    }
}

async function analyzeImageWithGemini(imagePath) {
    const prompt = `è¯·è¯¦ç»†åˆ†æè¿™å¼ å›¾ç‰‡ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

ğŸ” **å†…å®¹è¯†åˆ«**
- ä¸»è¦å¯¹è±¡å’Œåœºæ™¯
- äººç‰©ç‰¹å¾ï¼ˆå¦‚æœæœ‰ï¼‰
- èƒŒæ™¯ç¯å¢ƒ

ğŸ¨ **è§†è§‰åˆ†æ**
- è‰²å½©æ­é…å’Œä¸»è‰²è°ƒ
- æ„å›¾å’Œå¸ƒå±€
- å…‰å½±æ•ˆæœ

ğŸ’­ **æƒ…æ„Ÿæ°›å›´**
- å›¾ç‰‡ä¼ è¾¾çš„æƒ…æ„Ÿ
- æ•´ä½“æ°›å›´å’Œæ„Ÿå—

ğŸ“ **åº”ç”¨å»ºè®®**
- é€‚åˆçš„ä½¿ç”¨åœºæ™¯
- å¯èƒ½çš„æ”¹è¿›å»ºè®®

è¯·ç”¨ä¸­æ–‡è¯¦ç»†å›ç­”ï¼Œç»“æ„æ¸…æ™°ã€‚`;

    return await geminiMultimodalChat(prompt, [imagePath]);
}

async function extractTextFromImage(imagePath) {
    const prompt = `è¯·ä»”ç»†è¯†åˆ«è¿™å¼ å›¾ç‰‡ä¸­çš„æ‰€æœ‰æ–‡å­—å†…å®¹ã€‚

**è¦æ±‚ï¼š**
1. æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºæå–
2. ä¿æŒåŸæœ‰æ ¼å¼å’Œç»“æ„
3. å¦‚æœæ˜¯è¡¨æ ¼ï¼Œè¯·ç”¨markdownè¡¨æ ¼æ ¼å¼æ•´ç†
4. å¦‚æœæœ‰å¤šç§è¯­è¨€ï¼Œè¯·æ ‡æ³¨è¯­è¨€ç±»å‹
5. å¦‚æœæ–‡å­—æ¨¡ç³Šä¸æ¸…ï¼Œè¯·æ ‡æ³¨"[æ¨¡ç³Š]"
6. å¦‚æœæ˜¯æ‰‹å†™æ–‡å­—ï¼Œè¯·æ ‡æ³¨"[æ‰‹å†™]"

**è¾“å‡ºæ ¼å¼ï¼š**
ç›´æ¥è¾“å‡ºæå–åˆ°çš„æ–‡å­—å†…å®¹ï¼Œä¸éœ€è¦é¢å¤–è¯´æ˜ã€‚`;

    return await geminiMultimodalChat(prompt, [imagePath]);
}

async function analyzeVideoContent(videoPath) {
    const prompt = `è¯·åˆ†æè¿™ä¸ªè§†é¢‘çš„å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š

ğŸ“¹ **è§†é¢‘æ¦‚è§ˆ**
- è§†é¢‘ä¸»é¢˜å’Œå†…å®¹
- æ—¶é•¿å’ŒèŠ‚å¥æ„Ÿå—
- æ•´ä½“è´¨é‡è¯„ä»·

ğŸ¬ **ç”»é¢åˆ†æ**
- ä¸»è¦åœºæ™¯å’Œç”»é¢
- æ‹æ‘„è§’åº¦å’Œè¿é•œ
- è§†è§‰ç‰¹æ•ˆå’Œå‰ªè¾‘

ğŸ‘¥ **äººç‰©/å¯¹è±¡**
- ä¸»è¦äººç‰©æˆ–å¯¹è±¡
- åŠ¨ä½œå’Œè¡¨æƒ…åˆ†æ
- äº’åŠ¨å’Œæƒ…èŠ‚å‘å±•

ğŸµ **éŸ³é¢‘åˆ†æ**ï¼ˆå¦‚æœæœ‰ï¼‰
- èƒŒæ™¯éŸ³ä¹é£æ ¼
- è¯­è¨€å’Œå¯¹è¯å†…å®¹
- éŸ³æ•ˆå’Œå£°éŸ³è´¨é‡

ğŸ¯ **åº”ç”¨ä»·å€¼**
- é€‚åˆçš„ç”¨é€”å’Œåœºæ™¯
- ç›®æ ‡å—ä¼—åˆ†æ
- æ”¹è¿›å»ºè®®

è¯·è¯¦ç»†åˆ†æå¹¶ç»™å‡ºä¸“ä¸šå»ºè®®ã€‚`;

    return await geminiMultimodalChat(prompt, [videoPath], 0.7, 1500);
}

async function creativeStorytelling(imagePath) {
    const prompt = `è¯·åŸºäºè¿™å¼ å›¾ç‰‡åˆ›ä½œä¸€ä¸ªæœ‰è¶£çš„æ•…äº‹ï¼š

ğŸ“– **åˆ›ä½œè¦æ±‚ï¼š**
1. æ•…äº‹é•¿åº¦ï¼š300-500å­—
2. åŒ…å«å¼€å¤´ã€å‘å±•ã€é«˜æ½®ã€ç»“å°¾
3. äººç‰©æ€§æ ¼é²œæ˜
4. æƒ…èŠ‚å¼•äººå…¥èƒœ
5. ç»“åˆå›¾ç‰‡ä¸­çš„å…·ä½“å…ƒç´ 

ğŸ­ **æ•…äº‹é£æ ¼ï¼š**
è¯·é€‰æ‹©æœ€é€‚åˆå›¾ç‰‡å†…å®¹çš„é£æ ¼ï¼ˆæ¸©é¦¨ã€æ‚¬ç–‘ã€å†’é™©ã€ç§‘å¹»ç­‰ï¼‰

ğŸ“ **è¾“å‡ºæ ¼å¼ï¼š**
- æ•…äº‹æ ‡é¢˜
- æ•…äº‹æ­£æ–‡
- æ•…äº‹å¯“æ„ï¼ˆå¦‚æœæœ‰ï¼‰

è¯·å‘æŒ¥åˆ›æ„ï¼Œåˆ›ä½œä¸€ä¸ªç²¾å½©çš„æ•…äº‹ï¼`;

    return await geminiMultimodalChat(prompt, [imagePath], 0.9, 1200);
}

// ä½¿ç”¨ç¤ºä¾‹
(async () => {
    try {
        console.log('=== Geminiå¤šæ¨¡æ€å¯¹è¯ç¤ºä¾‹ ===\n');

        // ç¤ºä¾‹æ–‡ä»¶è·¯å¾„
        const sampleImage = 'sample_photo.jpg';
        const sampleVideo = 'sample_video.mp4';
        const sampleAudio = 'sample_audio.mp3';

        // ç¤ºä¾‹1: å›¾ç‰‡åˆ†æ
        if (fs.existsSync(sampleImage)) {
            console.log('1. å›¾ç‰‡å†…å®¹åˆ†æ:');
            const imageAnalysis = await analyzeImageWithGemini(sampleImage);
            console.log(imageAnalysis);
            console.log('\n' + '='.repeat(50) + '\n');

            // ç¤ºä¾‹2: å›¾ç‰‡æ–‡å­—æå–
            console.log('2. å›¾ç‰‡æ–‡å­—æå–:');
            const textExtraction = await extractTextFromImage(sampleImage);
            console.log(textExtraction);
            console.log('\n' + '='.repeat(50) + '\n');

            // ç¤ºä¾‹3: åˆ›æ„æ•…äº‹åˆ›ä½œ
            console.log('3. åŸºäºå›¾ç‰‡çš„åˆ›æ„æ•…äº‹:');
            const story = await creativeStorytelling(sampleImage);
            console.log(story);
            console.log('\n' + '='.repeat(50) + '\n');
        }

        // ç¤ºä¾‹4: è§†é¢‘åˆ†æ
        if (fs.existsSync(sampleVideo)) {
            console.log('4. è§†é¢‘å†…å®¹åˆ†æ:');
            const videoAnalysis = await analyzeVideoContent(sampleVideo);
            console.log(videoAnalysis);
            console.log('\n' + '='.repeat(50) + '\n');
        }

        // æ£€æŸ¥æ˜¯å¦æœ‰ç¤ºä¾‹æ–‡ä»¶
        const hasAnyFile = [sampleImage, sampleVideo, sampleAudio].some(fs.existsSync);
        if (!hasAnyFile) {
            console.log('è¯·å‡†å¤‡ç¤ºä¾‹æ–‡ä»¶:');
            console.log(`- å›¾ç‰‡æ–‡ä»¶: ${sampleImage}`);
            console.log(`- è§†é¢‘æ–‡ä»¶: ${sampleVideo}`);
            console.log(`- éŸ³é¢‘æ–‡ä»¶: ${sampleAudio}`);
            console.log('\næ”¯æŒæ ¼å¼:');
            console.log('- å›¾ç‰‡: JPEG, PNG, GIF, WebP, BMP');
            console.log('- è§†é¢‘: MP4, MOV, AVI, WebM');
            console.log('- éŸ³é¢‘: MP3, WAV, FLAC, M4A');
        }

    } catch (error) {
        console.error('ç¨‹åºæ‰§è¡Œå‡ºé”™:', error.message);
    }
})();
```

</CodeGroup>
## ä½¿ç”¨File APIä¸Šä¼ å¤§è§†é¢‘æ–‡ä»¶

å¯¹äºè¶…è¿‡20MBçš„å¤§è§†é¢‘æ–‡ä»¶ï¼Œæˆ–è€…éœ€è¦é‡å¤ä½¿ç”¨çš„è§†é¢‘æ–‡ä»¶ï¼Œæ¨èå…ˆä½¿ç”¨File APIä¸Šä¼ ï¼Œç„¶åé€šè¿‡æ–‡ä»¶URIè¿›è¡Œè§†é¢‘ç†è§£åˆ†æã€‚è¿™ç§æ–¹å¼æ›´é«˜æ•ˆï¼Œç‰¹åˆ«é€‚åˆå¤„ç†å¤§æ–‡ä»¶ã€‚

<CodeGroup>

```bash cURL
# ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ è§†é¢‘æ–‡ä»¶
curl --request POST \
  --url https://api.tokenops.ai/v1/files/upload \
  --header 'Authorization: Bearer <API-KEY>' \
  --header 'Content-Type: video/mp4' \
  --header 'filename: my_large_video.mp4' \
  --data-binary '@/path/to/your/large_video.mp4'

# å“åº”ç¤ºä¾‹:
# {
#   "uri": "tokenops://bucket.example.com/file_api/20241016/my_large_video.mp4",
#   "mime_type": "video/mp4"
# }

# ç¬¬äºŒæ­¥ï¼šä½¿ç”¨æ–‡ä»¶URIè¿›è¡Œè§†é¢‘ç†è§£
curl -X POST "https://api.tokenops.ai/v1beta/models/gemini-2.5-flash:generateContent" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <API-KEY>" \
  -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "è¯·è¯¦ç»†åˆ†æè¿™ä¸ªè§†é¢‘çš„å†…å®¹ï¼ŒåŒ…æ‹¬åœºæ™¯ã€äººç‰©ã€åŠ¨ä½œå’Œæƒ…èŠ‚å‘å±•ã€‚"
          },
          {
            "fileData": {
              "mimeType": "video/mp4",
              "fileUri": "tokenops://bucket.example.com/file_api/20241016/my_large_video.mp4"
            }
          }
        ]
      }
    ],
    "generationConfig": {
      "maxOutputTokens": 2000,
      "temperature": 0.7
    }
  }'
```

```python Python
import requests
import os
import json

# é…ç½®APIå¯†é’¥å’ŒåŸºç¡€URL
API_KEY = "<API-KEY>"
BASE_URL = "https://api.tokenops.ai"

def upload_large_video_file(file_path):
    """
    ä¸Šä¼ å¤§è§†é¢‘æ–‡ä»¶åˆ°File API
    
    Args:
        file_path: æœ¬åœ°è§†é¢‘æ–‡ä»¶è·¯å¾„
    
    Returns:
        dict: åŒ…å«uriå’Œmime_typeçš„å­—å…¸
    """
    if not os.path.exists(file_path):
        raise FileNotFoundError(f"æ–‡ä»¶ä¸å­˜åœ¨: {file_path}")
    
    # è·å–æ–‡ä»¶ä¿¡æ¯
    file_size = os.path.getsize(file_path)
    filename = os.path.basename(file_path)
    
    # ç¡®å®šMIMEç±»å‹
    mime_types = {
        '.mp4': 'video/mp4',
        '.mov': 'video/quicktime', 
        '.avi': 'video/x-msvideo',
        '.webm': 'video/webm',
        '.mkv': 'video/x-matroska'
    }
    
    file_ext = os.path.splitext(filename)[1].lower()
    content_type = mime_types.get(file_ext, 'video/mp4')
    
    print(f"å‡†å¤‡ä¸Šä¼ æ–‡ä»¶: {filename}")
    print(f"æ–‡ä»¶å¤§å°: {file_size / (1024*1024):.2f} MB")
    print(f"MIMEç±»å‹: {content_type}")
    
    # ä¸Šä¼ æ–‡ä»¶
    url = f"{BASE_URL}/v1/files/upload"
    headers = {
        'Authorization': f'Bearer {API_KEY}',
        'Content-Type': content_type,
        'filename': filename
    }
    
    try:
        with open(file_path, 'rb') as file:
            response = requests.post(url, headers=headers, data=file)
        
        if response.status_code == 200:
            result = response.json()
            file_uri = result.get('uri')
            mime_type = result.get('mime_type')
            print(f"æ–‡ä»¶ä¸Šä¼ æˆåŠŸ! URI: {file_uri}")
            return {
                'uri': file_uri,
                'mime_type': mime_type
            }
        else:
            raise Exception(f"ä¸Šä¼ å¤±è´¥: {response.status_code} - {response.text}")
            
    except Exception as e:
        raise Exception(f"ä¸Šä¼ è¿‡ç¨‹ä¸­å‡ºé”™: {e}")

def analyze_video_with_file_api(file_info, prompt="è¯·è¯¦ç»†åˆ†æè¿™ä¸ªè§†é¢‘çš„å†…å®¹"):
    """
    ä½¿ç”¨ä¸Šä¼ çš„æ–‡ä»¶URIè¿›è¡Œè§†é¢‘åˆ†æ
    
    Args:
        file_info: åŒ…å«uriå’Œmime_typeçš„å­—å…¸
        prompt: åˆ†ææç¤ºè¯
    
    Returns:
        str: åˆ†æç»“æœ
    """
    url = f"{BASE_URL}/v1beta/models/gemini-2.5-flash:generateContent"
    headers = {
        "Content-Type": "application/json",
        "Authorization": f"Bearer {API_KEY}"
    }
    
    data = {
        "contents": [
            {
                "parts": [
                    {
                        "text": prompt
                    },
                    {
                        "fileData": {
                            "mimeType": file_info['mime_type'],
                            "fileUri": file_info['uri']
                        }
                    }
                ]
            }
        ],
        "generationConfig": {
            "maxOutputTokens": 1000,
            "temperature": 0.7
        }
    }
    
    try:
        response = requests.post(url, headers=headers, json=data)
        
        if response.status_code == 200:
            result = response.json()
            if 'candidates' in result and len(result['candidates']) > 0:
                content = result['candidates'][0]['content']
                if 'parts' in content and len(content['parts']) > 0:
                    return content['parts'][0]['text']
                else:
                    return "æ²¡æœ‰è¿”å›åˆ†æå†…å®¹"
            else:
                return "æ²¡æœ‰ç”Ÿæˆå€™é€‰åˆ†æç»“æœ"
        else:
            return f"åˆ†æè¯·æ±‚å¤±è´¥: {response.status_code} - {response.text}"
            
    except Exception as e:
        return f"åˆ†æè¿‡ç¨‹ä¸­å‡ºé”™: {e}"

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    video_path = "my_video.mp4"
    
    if os.path.exists(video_path):
        # ç¬¬1æ­¥ï¼šä¸Šä¼ è§†é¢‘æ–‡ä»¶
        print("æ­£åœ¨ä¸Šä¼ è§†é¢‘æ–‡ä»¶...")
        file_info = upload_large_video_file(video_path)
        print(f"ä¸Šä¼ æˆåŠŸï¼ŒURI: {file_info['uri']}")
        
        # ç¬¬2æ­¥ï¼šåˆ†æè§†é¢‘å†…å®¹
        print("æ­£åœ¨åˆ†æè§†é¢‘å†…å®¹...")
        analysis = analyze_video_with_file_api(file_info, "è¯·æè¿°è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹")
        print(f"åˆ†æç»“æœï¼š{analysis}")
    else:
        print(f"è§†é¢‘æ–‡ä»¶ {video_path} ä¸å­˜åœ¨")
```

```javascript JavaScript/Node.js
const axios = require('axios');
const fs = require('fs');
const path = require('path');

// é…ç½®APIå¯†é’¥å’ŒåŸºç¡€URL
const API_KEY = '<API-KEY>';
const BASE_URL = 'https://api.tokenops.ai';

/**
 * ä¸Šä¼ å¤§è§†é¢‘æ–‡ä»¶åˆ°File API
 * @param {string} filePath - æœ¬åœ°è§†é¢‘æ–‡ä»¶è·¯å¾„
 * @returns {Promise<Object>} åŒ…å«uriå’Œmime_typeçš„å¯¹è±¡
 */
async function uploadLargeVideoFile(filePath) {
    if (!fs.existsSync(filePath)) {
        throw new Error(`æ–‡ä»¶ä¸å­˜åœ¨: ${filePath}`);
    }
    
    // è·å–æ–‡ä»¶ä¿¡æ¯
    const stats = fs.statSync(filePath);
    const fileSize = stats.size;
    const filename = path.basename(filePath);
    
    // ç¡®å®šMIMEç±»å‹
    const mimeTypes = {
        '.mp4': 'video/mp4',
        '.mov': 'video/quicktime', 
        '.avi': 'video/x-msvideo',
        '.webm': 'video/webm',
        '.mkv': 'video/x-matroska'
    };
    
    const fileExt = path.extname(filename).toLowerCase();
    const contentType = mimeTypes[fileExt] || 'video/mp4';
    
    console.log(`å‡†å¤‡ä¸Šä¼ æ–‡ä»¶: ${filename}`);
    console.log(`æ–‡ä»¶å¤§å°: ${(fileSize / (1024*1024)).toFixed(2)} MB`);
    console.log(`MIMEç±»å‹: ${contentType}`);
    
    // ä¸Šä¼ æ–‡ä»¶
    const url = `${BASE_URL}/v1/files/upload`;
    const headers = {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': contentType,
        'filename': filename
    };
    
    try {
        const fileData = fs.readFileSync(filePath);
        const response = await axios.post(url, fileData, { headers });
        
        if (response.status === 200) {
            const result = response.data;
            const fileUri = result.uri;
            const mimeType = result.mime_type;
            console.log(`æ–‡ä»¶ä¸Šä¼ æˆåŠŸ! URI: ${fileUri}`);
            return {
                uri: fileUri,
                mime_type: mimeType
            };
        } else {
            throw new Error(`ä¸Šä¼ å¤±è´¥: ${response.status} - ${response.statusText}`);
        }
        
    } catch (error) {
        throw new Error(`ä¸Šä¼ è¿‡ç¨‹ä¸­å‡ºé”™: ${error.message}`);
    }
}

/**
 * ä½¿ç”¨ä¸Šä¼ çš„æ–‡ä»¶URIè¿›è¡Œè§†é¢‘åˆ†æ
 * @param {Object} fileInfo - åŒ…å«uriå’Œmime_typeçš„å¯¹è±¡
 * @param {string} prompt - åˆ†ææç¤ºè¯
 * @returns {Promise<string>} åˆ†æç»“æœ
 */
async function analyzeVideoWithFileApi(fileInfo, prompt = 'è¯·è¯¦ç»†åˆ†æè¿™ä¸ªè§†é¢‘çš„å†…å®¹') {
    const url = `${BASE_URL}/v1beta/models/gemini-2.5-flash:generateContent`;
    const headers = {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${API_KEY}`
    };
    
    const data = {
        contents: [
            {
                parts: [
                    {
                        text: prompt
                    },
                    {
                        fileData: {
                            mimeType: fileInfo.mime_type,
                            fileUri: fileInfo.uri
                        }
                    }
                ]
            }
        ],
        generationConfig: {
            maxOutputTokens: 1000,
            temperature: 0.7
        }
    };
    
    try {
        const response = await axios.post(url, data, { headers });
        
        if (response.status === 200) {
            const result = response.data;
            if (result.candidates && result.candidates.length > 0) {
                const content = result.candidates[0].content;
                if (content.parts && content.parts.length > 0) {
                    return content.parts[0].text;
                } else {
                    return 'æ²¡æœ‰è¿”å›åˆ†æå†…å®¹';
                }
            } else {
                return 'æ²¡æœ‰ç”Ÿæˆå€™é€‰åˆ†æç»“æœ';
            }
        } else {
            return `åˆ†æè¯·æ±‚å¤±è´¥: ${response.status} - ${response.statusText}`;
        }
        
    } catch (error) {
        return `åˆ†æè¿‡ç¨‹ä¸­å‡ºé”™: ${error.response?.status} - ${error.response?.data || error.message}`;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
(async () => {
    try {
        const videoPath = 'my_video.mp4';
        
        if (fs.existsSync(videoPath)) {
            // ç¬¬1æ­¥ï¼šä¸Šä¼ è§†é¢‘æ–‡ä»¶
            console.log('æ­£åœ¨ä¸Šä¼ è§†é¢‘æ–‡ä»¶...');
            const fileInfo = await uploadLargeVideoFile(videoPath);
            console.log(`ä¸Šä¼ æˆåŠŸï¼ŒURI: ${fileInfo.uri}`);
            
            // ç¬¬2æ­¥ï¼šåˆ†æè§†é¢‘å†…å®¹
            console.log('æ­£åœ¨åˆ†æè§†é¢‘å†…å®¹...');
            const analysis = await analyzeVideoWithFileApi(fileInfo, 'è¯·æè¿°è¿™ä¸ªè§†é¢‘çš„ä¸»è¦å†…å®¹');
            console.log(`åˆ†æç»“æœï¼š${analysis}`);
        } else {
            console.log(`è§†é¢‘æ–‡ä»¶ ${videoPath} ä¸å­˜åœ¨`);
        }
        
    } catch (error) {
        console.error('ç¨‹åºæ‰§è¡Œå‡ºé”™:', error.message);
    }
})();
```

</CodeGroup>

### File API è¯´æ˜

File API ä¸Šä¼ æˆåŠŸåè¿”å›åŒ…å« `uri` å’Œ `mime_type` çš„JSONæ ¼å¼ï¼š
```json
{
  "uri": "tokenops://bucket.example.com/file_api/20241016/test.mp4",
  "mime_type": "video/mp4"
}
```

åœ¨è§†é¢‘ç†è§£APIä¸­ä½¿ç”¨ `uri` ä½œä¸º `fileUri` å­—æ®µï¼š
```json
{
  "fileData": {
    "mimeType": "video/mp4",
    "fileUri": "tokenops://bucket.example.com/file_api/20241016/test.mp4"
  }
}
```

### ä½¿ç”¨ä¼˜åŠ¿
- **æ”¯æŒå¤§æ–‡ä»¶**: çªç ´100MBé™åˆ¶
- **é‡å¤ä½¿ç”¨**: ä¸€æ¬¡ä¸Šä¼ ï¼Œå¤šæ¬¡åˆ†æ
- **æ›´ç¨³å®š**: é¿å…base64ç¼–ç çš„æ€§èƒ½é—®é¢˜


## Geminiå¤šæ¨¡æ€åŠŸèƒ½ç‰¹ç‚¹

### 1. æ”¯æŒçš„åª’ä½“æ ¼å¼

#### å›¾ç‰‡æ ¼å¼
- **JPEG/JPG**: æœ€å¸¸ç”¨çš„å›¾ç‰‡æ ¼å¼
- **PNG**: æ”¯æŒé€æ˜èƒŒæ™¯
- **GIF**: é™æ€å’ŒåŠ¨æ€GIF
- **WebP**: ç°ä»£é«˜æ•ˆæ ¼å¼
- **BMP**: ä½å›¾æ ¼å¼

#### è§†é¢‘æ ¼å¼
- **MP4**: H.264ç¼–ç ï¼Œæœ€å¸¸ç”¨
- **MOV**: QuickTimeæ ¼å¼
- **AVI**: å¾®è½¯è§†é¢‘æ ¼å¼
- **WebM**: ç½‘ç»œè§†é¢‘æ ¼å¼

#### éŸ³é¢‘æ ¼å¼
- **MP3**: æœ€å¸¸ç”¨çš„éŸ³é¢‘æ ¼å¼
- **WAV**: æ— æŸéŸ³é¢‘æ ¼å¼
- **FLAC**: æ— æŸå‹ç¼©æ ¼å¼
- **M4A**: AppleéŸ³é¢‘æ ¼å¼

### 2. æ–‡ä»¶å¤§å°å’Œæ—¶é•¿é™åˆ¶
- **å›¾ç‰‡**: æœ€å¤§20MB
- **è§†é¢‘**: æœ€å¤§100MBï¼Œæ—¶é•¿ä¸è¶…è¿‡10åˆ†é’Ÿ
- **éŸ³é¢‘**: æœ€å¤§20MBï¼Œæ—¶é•¿ä¸è¶…è¿‡30åˆ†é’Ÿ

### 3. åˆ†æèƒ½åŠ›
- **è§†è§‰ç†è§£**: è¯†åˆ«å¯¹è±¡ã€åœºæ™¯ã€æ–‡å­—ã€å›¾è¡¨ç­‰
- **è§†é¢‘åˆ†æ**: åŠ¨ä½œè¯†åˆ«ã€åœºæ™¯å˜åŒ–ã€æ—¶åºç†è§£
- **éŸ³é¢‘å¤„ç†**: è¯­éŸ³è¯†åˆ«ã€éŸ³ä¹åˆ†æã€ç¯å¢ƒéŸ³è¯†åˆ«
- **è·¨æ¨¡æ€ç†è§£**: ç»“åˆå¤šç§åª’ä½“è¿›è¡Œç»¼åˆåˆ†æ

## APIæ ¼å¼è¯´æ˜

### åŸºæœ¬è¯·æ±‚ç»“æ„
```json
{
  "contents": [
    {
      "parts": [
        {
          "text": "åˆ†æè¿™ä¸ªæ–‡ä»¶"
        },
        {
          "inlineData": {
            "mimeType": "image/jpeg",
            "data": "base64ç¼–ç çš„æ–‡ä»¶æ•°æ®"
          }
        }
      ]
    }
  ],
  "generationConfig": {
    "maxOutputTokens": 1000,
    "temperature": 0.7
  }
}
```

### å¤šæ–‡ä»¶è¾“å…¥
```json
{
  "contents": [
    {
      "parts": [
        {
          "text": "æ¯”è¾ƒè¿™äº›æ–‡ä»¶"
        },
        {
          "inlineData": {
            "mimeType": "image/jpeg",
            "data": "ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„base64æ•°æ®"
          }
        },
        {
          "inlineData": {
            "mimeType": "video/mp4",
            "data": "ç¬¬äºŒä¸ªæ–‡ä»¶çš„base64æ•°æ®"
          }
        }
      ]
    }
  ]
}
```

## åº”ç”¨åœºæ™¯

### å†…å®¹åˆ›ä½œ
- **è§†é¢‘è„šæœ¬**: åŸºäºè§†é¢‘ç”Ÿæˆæ–‡å­—è„šæœ¬
- **å›¾ç‰‡æè¿°**: ä¸ºå›¾ç‰‡ç”ŸæˆSEOå‹å¥½çš„æè¿°
- **å¤šåª’ä½“æ•…äº‹**: ç»“åˆå›¾ç‰‡ã€è§†é¢‘åˆ›ä½œæ•…äº‹

### æ•™è‚²åŸ¹è®­
- **è¯¾ä»¶åˆ†æ**: åˆ†ææ•™å­¦è§†é¢‘å’Œå›¾ç‰‡å†…å®¹
- **å­¦ä¹ è¾…åŠ©**: è§£é‡Šå›¾è¡¨ã€å…¬å¼ã€å®éªŒè§†é¢‘
- **å¤šè¯­è¨€å­¦ä¹ **: è¯†åˆ«å’Œç¿»è¯‘å¤šåª’ä½“å†…å®¹ä¸­çš„æ–‡å­—

### å•†ä¸šåº”ç”¨
- **äº§å“å±•ç¤º**: åˆ†æäº§å“å›¾ç‰‡å’Œæ¼”ç¤ºè§†é¢‘
- **å¸‚åœºè°ƒç ”**: åˆ†æç«å“çš„å¤šåª’ä½“è¥é”€ææ–™
- **å®¢æˆ·æœåŠ¡**: ç†è§£å®¢æˆ·æäº¤çš„å›¾ç‰‡å’Œè§†é¢‘é—®é¢˜

### æŠ€æœ¯åº”ç”¨
- **å†…å®¹å®¡æ ¸**: è‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»å¤šåª’ä½“å†…å®¹
- **æ•°æ®æå–**: ä»å›¾ç‰‡ã€è§†é¢‘ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯
- **è´¨é‡æ£€æµ‹**: è¯„ä¼°å¤šåª’ä½“å†…å®¹çš„è´¨é‡å’Œè§„èŒƒæ€§

## æœ€ä½³å®è·µ

### 1. æ–‡ä»¶ä¼˜åŒ–
- **å‹ç¼©**: åœ¨ä¿æŒè´¨é‡çš„å‰æä¸‹å‹ç¼©æ–‡ä»¶å¤§å°
- **æ ¼å¼é€‰æ‹©**: é€‰æ‹©æœ€é€‚åˆçš„æ–‡ä»¶æ ¼å¼
- **æ¸…æ™°åº¦**: ç¡®ä¿å›¾ç‰‡å’Œè§†é¢‘è¶³å¤Ÿæ¸…æ™°
- **éŸ³è´¨**: ä¿è¯éŸ³é¢‘æ¸…æ™°æ— æ‚éŸ³

### 2. æç¤ºè¯è®¾è®¡
- **å…·ä½“æ˜ç¡®**: æ˜ç¡®æŒ‡å‡ºåˆ†æçš„é‡ç‚¹å’Œè¦æ±‚
- **ç»“æ„åŒ–**: ä½¿ç”¨æ ‡é¢˜å’Œç¼–å·ç»„ç»‡é—®é¢˜
- **å¤šç»´åº¦**: ä»ä¸åŒè§’åº¦æå‡ºåˆ†æè¦æ±‚
- **è¾“å‡ºæ ¼å¼**: æŒ‡å®šæœŸæœ›çš„è¾“å‡ºæ ¼å¼å’Œç»“æ„

### 3. æ€§èƒ½ä¼˜åŒ–
- **æ‰¹é‡å¤„ç†**: åˆç†å®‰æ’å¤šæ–‡ä»¶åˆ†æçš„é¡ºåº
- **ç¼“å­˜ç»“æœ**: å¯¹é‡å¤åˆ†æçš„å†…å®¹è¿›è¡Œç¼“å­˜
- **å¹¶å‘æ§åˆ¶**: é¿å…åŒæ—¶å‘é€è¿‡å¤šè¯·æ±‚
- **é”™è¯¯é‡è¯•**: å®ç°åˆç†çš„é‡è¯•æœºåˆ¶

## è¿›é˜¶åŠŸèƒ½

### 1. æ—¶åºè§†é¢‘åˆ†æ
```python
def analyze_video_timeline(video_path):
    prompt = """è¯·æŒ‰æ—¶é—´é¡ºåºåˆ†æè¿™ä¸ªè§†é¢‘ï¼š

1. **å¼€å¤´éƒ¨åˆ†** (0-30ç§’): æè¿°å¼€åœºç”»é¢å’Œå†…å®¹
2. **ä¸­é—´éƒ¨åˆ†**: ä¸»è¦å†…å®¹å’Œå‘å±•è¿‡ç¨‹
3. **ç»“å°¾éƒ¨åˆ†**: æ€»ç»“å’Œç»“æŸç”»é¢
4. **å…³é”®æ—¶åˆ»**: è¯†åˆ«é‡è¦çš„è½¬æŠ˜ç‚¹
5. **æ•´ä½“èŠ‚å¥**: åˆ†æè§†é¢‘çš„èŠ‚å¥å˜åŒ–

è¯·æä¾›è¯¦ç»†çš„æ—¶åºåˆ†æã€‚"""

    return gemini_multimodal_chat(prompt, [video_path], max_tokens=1500)
```

### 2. è·¨æ¨¡æ€å†…å®¹ç”Ÿæˆ
```python
def generate_multimedia_content(image_path, audio_path):
    prompt = """åŸºäºè¿™å¼ å›¾ç‰‡å’ŒéŸ³é¢‘ï¼Œåˆ›ä½œä¸€ä¸ªå®Œæ•´çš„å¤šåª’ä½“å†…å®¹æ–¹æ¡ˆï¼š

1. **å†…å®¹ä¸»é¢˜**: ç¡®å®šç»Ÿä¸€çš„ä¸»é¢˜
2. **è§†è§‰é£æ ¼**: åŸºäºå›¾ç‰‡ç¡®å®šè§†è§‰é£æ ¼
3. **éŸ³é¢‘é£æ ¼**: åŸºäºéŸ³é¢‘ç¡®å®šéŸ³ä¹é£æ ¼
4. **è„šæœ¬åˆ›ä½œ**: ç¼–å†™å®Œæ•´çš„å†…å®¹è„šæœ¬
5. **åˆ¶ä½œå»ºè®®**: æä¾›åˆ¶ä½œå’Œç¼–è¾‘å»ºè®®

è¯·åˆ›ä½œä¸€ä¸ªä¸“ä¸šçš„å¤šåª’ä½“æ–¹æ¡ˆã€‚"""

    return gemini_multimodal_chat(prompt, [image_path, audio_path], temperature=0.8)
```

## æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°**: æ³¨æ„å„ç§æ ¼å¼çš„å¤§å°é™åˆ¶
2. **ç½‘ç»œç¨³å®š**: å¤§æ–‡ä»¶ä¸Šä¼ éœ€è¦ç¨³å®šçš„ç½‘ç»œ
3. **å¤„ç†æ—¶é—´**: è§†é¢‘å’ŒéŸ³é¢‘åˆ†æéœ€è¦æ›´é•¿æ—¶é—´
4. **è´¹ç”¨æ§åˆ¶**: å¤šæ¨¡æ€åŠŸèƒ½è´¹ç”¨è¾ƒé«˜ï¼Œæ³¨æ„ä½¿ç”¨é¢‘ç‡
5. **éšç§ä¿æŠ¤**: ä¸è¦ä¸Šä¼ æ•æ„Ÿæˆ–ç§äººå†…å®¹
6. **æ ¼å¼å…¼å®¹**: ç¡®ä¿æ–‡ä»¶æ ¼å¼è¢«æ”¯æŒ
7. **å†…å®¹åˆè§„**: ç¡®ä¿å¤šåª’ä½“å†…å®¹ç¬¦åˆä½¿ç”¨æ”¿ç­–